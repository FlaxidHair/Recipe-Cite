import{k as J,i as K,u as O,l as r,r as o,e as a,c as x,a as e,w as l,h as B,b as i,o as _,n as j,f as u,g as A,F as E,d as I,t as f,m as L}from"./index-Dwy4urxh.js";const G={key:0,class:"main d-flex flex-column align-center"},H=i("h2",{class:"mt-10 mb-5"},"Добавить заметку",-1),Q={class:"w-50 mr-auto ml-auto border-thin mb-5"},X={class:"d-flex"},Y={class:"d-flex flex-column align-center"},Z={class:"d-flex ga-5 justify-center flex-wrap"},ee=["onClick","item"],te={class:"d-flex mt-1"},ae={__name:"Notes",setup(le){const v=J();K(()=>{s.getNotes});const s=O(),g=r(null),b=r(""),k=r(""),h=r(!1),U=r([]),q=r({required:m=>!!m||"Необходимо заполнить поле!"});function F(){this.valid&&fetch("https://script.google.com/macros/s/AKfycbwf7Ty0tbwPJJbm3gb9FRW0wk0kMRoyqCNeK9xMB9n4a0pfWktu3eiWnbB2dzeLHrcO/exec",{method:"POST",body:new FormData(g.value)}).then(m=>{m.status==200&&(this.vform2.reset(),s.getNotes(),alert("Заметка добавлена"))})}return(m,t)=>{const M=o("v-text-field"),c=o("v-btn"),$=o("v-tooltip"),D=o("v-textarea"),P=o("v-form"),w=o("v-card-title"),V=o("v-card-text"),p=o("v-card"),R=o("v-hover"),N=o("v-spacer"),y=o("v-card-actions"),C=o("v-dialog"),W=o("v-divider"),z=o("v-container");return a(s).loading?B("",!0):(_(),x("div",G,[H,e(z,null,{default:l(()=>[i("div",Q,[e(P,{ref_key:"vform2",ref:U,modelValue:h.value,"onUpdate:modelValue":t[4]||(t[4]=n=>h.value=n)},{default:l(()=>[i("form",{ref_key:"forma",ref:g,onSubmit:t[3]||(t[3]=j(()=>{},["prevent"]))},[i("div",X,[e(M,{required:"",rules:[q.value.required],name:"Title",modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=n=>b.value=n),label:"Введите заголовок",tile:"",variant:"solo","hide-details":"",class:""},null,8,["rules","modelValue"]),i("div",null,[e(c,{onClick:t[1]||(t[1]=n=>F()),disabled:!a(v).isLogin,class:"elevation-2",type:"submit",width:"120px",tile:"",height:"56px",flat:""},{default:l(()=>[u("Добавить")]),_:1},8,["disabled"]),a(v).isLogin?B("",!0):(_(),A($,{key:0,activator:"parent",location:"end"},{default:l(()=>[u("Войдите что бы добавить!")]),_:1}))])]),e(D,{modelValue:k.value,"onUpdate:modelValue":t[2]||(t[2]=n=>k.value=n),name:"Subtitle",label:"Введите заметку","no-resize":"","max-rows":"10",tile:"",variant:"filled","hide-details":"",class:""},null,8,["modelValue"])],544)]),_:1},8,["modelValue"])]),i("div",Y,[e(C,{"max-width":"800"},{activator:l(({props:n})=>[i("div",Z,[(_(!0),x(E,null,I(a(s).getterNotes,d=>(_(),x("div",{key:d,class:"d-flex ga-5 mb-7"},[e(R,{"open-delay":"50"},{default:l(({isHovering:S,props:T})=>[i("div",L({onClick:()=>{a(s).selectNote=d},item:d,class:"w-100 cursor-pointer d-flex",ref_for:!0},n),[e(p,L({class:["d-flex flex-column align-center",S,T],"min-width":"300px",height:"200px",ref_for:!0},T,{elevation:S?8:2}),{default:l(()=>[e(w,{class:"mr-auto ml-auto"},{default:l(()=>[u(f(d.Title),1)]),_:2},1024),e(V,{class:"h-25 text-caption"},{default:l(()=>[u(f(d.Subtitle),1)]),_:2},1024)]),_:2},1040,["class","elevation"])],16,ee)]),_:2},1024)]))),128))])]),default:l(({isActive:n})=>[e(p,{class:"d-flex flex-column"},{default:l(()=>[i("div",te,[e(w,null,{default:l(()=>[u(f(a(s).selectNote.Title),1)]),_:1}),e(y,{class:"ml-auto align-end mr-2"},{default:l(()=>[e(N),e(c,{text:"Закрыть",onClick:d=>n.value=!1},null,8,["onClick"])]),_:2},1024)]),e(V,null,{default:l(()=>[u(f(a(s).selectNote.Subtitle),1)]),_:1}),e(c,{disabled:!a(v).isLogin,width:"150px",class:"ml-auto mr-5 bg-red my-2 mb-5",text:"Удалить",onClick:t[5]||(t[5]=d=>a(s).dialog=!0)},null,8,["disabled"])]),_:2},1024)]),_:1})]),e(C,{modelValue:a(s).dialog,"onUpdate:modelValue":t[8]||(t[8]=n=>a(s).dialog=n),"max-width":"300"},{default:l(()=>[e(p,{title:"Удалить заметку?"},{default:l(()=>[e(y,null,{default:l(()=>[e(c,{text:"Да",class:"bg-red",variant:"text",onClick:t[6]||(t[6]=()=>{a(s).deleteNote(a(s).selectNote.ID)})}),e(N),e(c,{text:"Нет",variant:"text",onClick:t[7]||(t[7]=n=>a(s).dialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W)]),_:1})]))}}};export{ae as default};
